<xml xmlns="https://developers.google.com/blockly/xml">
<variables>
<variable id="max_speed_var">max_speed</variable>
<variable id="locked_var">locked</variable>
</variables>
<block type="procedures_defnoreturn" id="runOpModeBlock" deletable="false" x="115" y="48">
<field name="NAME">runOpMode</field>
<comment pinned="false" h="106" w="552">This OpMode offers Tank Drive style TeleOp control for a direct drive robot.

In this Tank Drive mode, the left and right joysticks (up and down) drive the left and right motors, respectively.</comment>
<data>{"commentPositionLeft":-20,"commentPositionTop":-133}</data>
<statement name="STACK">
<block type="comment" id="reverseMotorComment">
<field name="COMMENT">Reverse one of the drive motors.</field>
<next>
<block type="dcMotor_setProperty_Direction" id="setRightMotorDirection">
<field name="IDENTIFIER">RightWheelMotorAsDcMotor</field>
<field name="PROP">Direction</field>
<comment pinned="false" h="103" w="377">You will have to determine which motor to reverse for your robot. In this example, the right motor was reversed so that positive applied power makes it move the robot in the forward direction.</comment>
<data>{"IDENTIFIER":"RightWheelMotor"}</data>
<value name="VALUE">
<shadow type="dcMotor_typedEnum_direction" id="rightMotorReverseDirection">
<field name="DIRECTION">REVERSE</field>
</shadow>
</value>
<next>
<block type="dcMotor_setProperty_Direction" id="setShoulderDirection">
<field name="IDENTIFIER">shoulderAsDcMotor</field>
<field name="PROP">Direction</field>
<data>{"IDENTIFIER":"shoulder"}</data>
<value name="VALUE">
<shadow type="dcMotor_typedEnum_direction" id="shoulderReverseDirection">
<field name="DIRECTION">REVERSE</field>
</shadow>
</value>
<next>
<block type="dcMotor_setProperty_ZeroPowerBehavior" id="setShoulderBrake">
<field name="IDENTIFIER">shoulderAsDcMotor</field>
<field name="PROP">ZeroPowerBehavior</field>
<data>{"IDENTIFIER":"shoulder"}</data>
<value name="VALUE">
<shadow type="dcMotor_typedEnum_zeroPowerBehavior" id="shoulderBrakeMode">
<field name="ZERO_POWER_BEHAVIOR">BRAKE</field>
</shadow>
</value>
<next>
<block type="dcMotor_setProperty_RunMode" id="setShoulderMode">
<field name="IDENTIFIER">shoulderAsDcMotor</field>
<field name="PROP">Mode</field>
<data>{"IDENTIFIER":"shoulder"}</data>
<value name="VALUE">
<shadow type="dcMotor_typedEnum_runMode" id="shoulderRunMode">
<field name="RUN_MODE">RUN_WITHOUT_ENCODER</field>
</shadow>
</value>
<next>
<block type="servo_setProperty_Direction" id="setElbowDirection">
<field name="IDENTIFIER">elbowAsServo</field>
<field name="PROP">Direction</field>
<data>{"IDENTIFIER":"elbow"}</data>
<value name="VALUE">
<shadow type="servo_typedEnum_direction" id="elbowForwardDirection">
<field name="DIRECTION">FORWARD</field>
</shadow>
</value>
<next>
<block type="servo_setProperty_Number" id="setElbowPosition">
<field name="IDENTIFIER">elbowAsServo</field>
<field name="PROP">Position</field>
<data>{"IDENTIFIER":"elbow"}</data>
<value name="VALUE">
<shadow type="math_number" id="elbowPositionValue">
<field name="NUM">1</field>
</shadow>
</value>
<next>
<block type="crServo_setProperty_Direction" id="setIntakeDirection">
<field name="IDENTIFIER">intakeAsCRServo</field>
<field name="PROP">Direction</field>
<data>{"IDENTIFIER":"intake"}</data>
<value name="VALUE">
<shadow type="crServo_typedEnum_direction" id="intakeReverseDirection">
<field name="DIRECTION">REVERSE</field>
</shadow>
</value>
<next>
<block type="crServo_setProperty_Number" id="setIntakePower">
<field name="IDENTIFIER">intakeAsCRServo</field>
<field name="PROP">Power</field>
<data>{"IDENTIFIER":"intake"}</data>
<value name="VALUE">
<shadow type="math_number" id="intakePowerValue">
<field name="NUM">0</field>
</shadow>
</value>
<next>
<block type="androidSoundPool_initialize" id="initializeSoundPool">
<next>
<block type="androidSoundPool_setProperty_Number" id="setSoundVolume">
<field name="PROP">Volume</field>
<value name="VALUE">
<shadow type="math_number" id="soundVolumeValue">
<field name="NUM">1</field>
</shadow>
</value>
<next>
<block type="variables_set" id="setMaxSpeed">
<field name="VAR" id="max_speed_var">max_speed</field>
<value name="VALUE">
<block type="math_number" id="maxSpeedInitValue">
<field name="NUM">-1</field>
</block>
</value>
<next>
<block type="variables_set" id="setLocked">
<field name="VAR" id="locked_var">locked</field>
<value name="VALUE">
<block type="math_number" id="lockedInitValue">
<field name="NUM">0</field>
</block>
</value>
<next>
<block type="linearOpMode_waitForStart" id="waitForStartBlock">
<next>
<block type="androidSoundPool_play" id="playSoundAlarm">
<value name="SOUND_NAME">
<shadow type="androidSoundPoolSkyStone_typedEnum_soundResource" id="alarmSoundId">
<field name="SOUND_RESOURCE">ss_alarm</field>
</shadow>
</value>
<next>
<block type="controls_if" id="opModeActiveCheck">
<value name="IF0">
<block type="linearOpMode_opModeIsActive" id="checkOpModeActive">
</block>
</value>
<statement name="DO0">
<block type="comment" id="runBlocksComment">
<field name="COMMENT">Put run blocks here.</field>
<next>
<block type="controls_whileUntil" id="mainLoopWhile">
<field name="MODE">WHILE</field>
<value name="BOOL">
<block type="linearOpMode_opModeIsActive" id="checkOpModeActiveLoop">
</block>
</value>
<statement name="DO">
<block type="comment" id="loopBlocksComment">
<field name="COMMENT">Put loop blocks here.</field>
<next>
<block type="controls_if" id="gamepadACheck">
<value name="IF0">
<block type="gamepad_getProperty_Boolean" id="checkGamepadA">
<field name="IDENTIFIER">gamepad1</field>
<field name="PROP">A</field>
<data>{"IDENTIFIER":"gamepad1"}</data>
</block>
</value>
<statement name="DO0">
<block type="variables_set" id="toggleMaxSpeed">
<field name="VAR" id="max_speed_var">max_speed</field>
<value name="VALUE">
<block type="logic_ternary" id="maxSpeedTernary">
<value name="IF">
<block type="logic_compare" id="maxSpeedCompare">
<field name="OP">EQ</field>
<value name="A">
<block type="variables_get" id="getMaxSpeedForCompare">
<field name="VAR" id="max_speed_var">max_speed</field>
</block>
</value>
<value name="B">
<block type="math_number" id="maxSpeedCompareValue">
<field name="NUM">-0.5</field>
</block>
</value>
</block>
</value>
<value name="THEN">
<block type="math_number" id="maxSpeedThenValue">
<field name="NUM">-1</field>
</block>
</value>
<value name="ELSE">
<block type="math_number" id="maxSpeedElseValue">
<field name="NUM">-0.5</field>
</block>
</value>
</block>
</value>
</block>
</statement>
<next>
<block type="comment" id="joystickComment">
<field name="COMMENT">The Y axis of a joystick ranges from -1 in its topmost position to +1 in its bottommost position. We negate this value so that the topmost position corresponds to maximum forward power.</field>
<next>
<block type="dcMotor_setProperty_Number" id="setLeftMotorPower">
<field name="IDENTIFIER">LeftWheelMotorAsDcMotor</field>
<field name="PROP">Power</field>
<data>{"IDENTIFIER":"LeftWheelMotor"}</data>
<value name="VALUE">
<block type="math_constrain" id="leftMotorConstrain">
<value name="VALUE">
<shadow type="math_number" id="leftMotorShadowNum">
<field name="NUM">0</field>
</shadow>
<block type="gamepad_getProperty_Number" id="getLeftStickY">
<field name="IDENTIFIER">gamepad1</field>
<field name="PROP">LeftStickY</field>
<data>{"IDENTIFIER":"gamepad1"}</data>
</block>
</value>
<value name="LOW">
<shadow type="math_number" id="leftLowShadow">
<field name="NUM">-1</field>
</shadow>
<block type="variables_get" id="getMaxSpeedForLeft">
<field name="VAR" id="max_speed_var">max_speed</field>
</block>
</value>
<value name="HIGH">
<shadow type="math_number" id="leftHighShadow">
<field name="NUM">1</field>
</shadow>
</value>
</block>
</value>
</block>
</value>
</block>
<next>
<block type="dcMotor_setProperty_Number" id="setRightMotorPower">
<field name="IDENTIFIER">RightWheelMotorAsDcMotor</field>
<field name="PROP">Power</field>
<data>{"IDENTIFIER":"RightWheelMotor"}</data>
<value name="VALUE">
<block type="logic_ternary" id="rightMotorPowerTernary">
<value name="IF">
<block type="variables_get" id="getLockedForRight">
<field name="VAR" id="locked_var">locked</field>
</block>
</value>
<value name="THEN">
<block type="dcMotor_getProperty_Number" id="getLeftMotorPower">
<field name="IDENTIFIER">LeftWheelMotorAsDcMotor</field>
<field name="PROP">Power</field>
<data>{"IDENTIFIER":"LeftWheelMotor"}</data>
</block>
</value>
<value name="ELSE">
<block type="math_constrain" id="rightMotorConstrain">
<value name="VALUE">
<shadow type="math_number" id="rightMotorShadowNum">
<field name="NUM">0</field>
</shadow>
<block type="gamepad_getProperty_Number" id="getRightStickY">
<field name="IDENTIFIER">gamepad1</field>
<field name="PROP">RightStickY</field>
<data>{"IDENTIFIER":"gamepad1"}</data>
</block>
</value>
<value name="LOW">
<shadow type="math_number" id="rightLowShadow">
<field name="NUM">-1</field>
</shadow>
<block type="variables_get" id="getMaxSpeedForRight">
<field name="VAR" id="max_speed_var">max_speed</field>
</block>
</value>
<value name="HIGH">
<shadow type="math_number" id="rightHighShadow">
<field name="NUM">1</field>
</shadow>
</value>
</block>
</value>
</block>
</value>
</block>
</block>
</value>
</block>
<next>
<block type="dcMotor_setProperty_Number" id="setShoulderPower">
<field name="IDENTIFIER">shoulderAsDcMotor</field>
<field name="PROP">Power</field>
<data>{"IDENTIFIER":"shoulder"}</data>
<value name="VALUE">
<block type="math_arithmetic" id="shoulderPowerCalc">
<field name="OP">MULTIPLY</field>
<value name="A">
<block type="gamepad_getProperty_Number" id="getGamepad2RightStickY">
<field name="IDENTIFIER">gamepad2</field>
<field name="PROP">RightStickY</field>
<data>{"IDENTIFIER":"gamepad2"}</data>
</block>
</value>
<value name="B">
<block type="math_number" id="shoulderPowerMultiplier">
<field name="NUM">0.5</field>
</block>
</value>
</block>
</value>
<next>
<block type="telemetry_addNumericData" id="telemetryMaxSpeed">
<value name="KEY">
<shadow type="text" id="maxSpeedKey">
<field name="TEXT">Max Speed</field>
</shadow>
</value>
<value name="NUMBER">
<block type="variables_get" id="getMaxSpeedForTelemetry">
<field name="VAR" id="max_speed_var">max_speed</field>
</block>
</value>
<next>
<block type="telemetry_addNumericData" id="telemetryLocked">
<value name="KEY">
<shadow type="text" id="lockedKey">
<field name="TEXT">Locked</field>
</shadow>
</value>
<value name="NUMBER">
<block type="variables_get" id="getLockedForTelemetry">
<field name="VAR" id="locked_var">locked</field>
</block>
</value>
<next>
<block type="telemetry_addNumericData" id="telemetryLeftPower">
<value name="KEY">
<shadow type="text" id="leftPowerKey">
<field name="TEXT">Left Pow</field>
</shadow>
</value>
<value name="NUMBER">
<block type="dcMotor_getProperty_Number" id="getLeftMotorPowerForTelemetry">
<field name="IDENTIFIER">LeftWheelMotorAsDcMotor</field>
<field name="PROP">Power</field>
<data>{"IDENTIFIER":"LeftWheelMotor"}</data>
</block>
</value>
<next>
<block type="telemetry_addNumericData" id="telemetryRightPower">
<value name="KEY">
<shadow type="text" id="rightPowerKey">
<field name="TEXT">Right Pow</field>
</shadow>
</value>
<value name="NUMBER">
<block type="dcMotor_getProperty_Number" id="getRightMotorPowerForTelemetry">
<field name="IDENTIFIER">RightWheelMotorAsDcMotor</field>
<field name="PROP">Power</field>
<data>{"IDENTIFIER":"RightWheelMotor"}</data>
</block>
</value>
<next>
<block type="telemetry_update" id="updateTelemetry">
<next>
<block type="variables_set" id="setLockedFromGamepad">
<field name="VAR" id="locked_var">locked</field>
<value name="VALUE">
<block type="gamepad_getProperty_Boolean" id="getGamepadB">
<field name="IDENTIFIER">gamepad1</field>
<field name="PROP">B</field>
<data>{"IDENTIFIER":"gamepad1"}</data>
</block>
</value>
</block>
</next>
</block>
</next>
</block>
</next>
</block>
</next>
</block>
</next>
</block>
</next>
</block>
</next>
</block>
</next>
</block>
</next>
</block>
</next>
</block>
</statement>
</block>
</next>
</block>
</statement>
</block>
<next>
<block type="androidSoundPool_close" id="closeSoundPool"/>
</next>
</block>
</next>
</block>
</next>
</block>
</next>
</block>
</next>
</block>
</next>
</block>
</next>
</block>
</next>
</block>
</next>
</block>
</next>
</block>
</next>
</block>
</next>
</block>
</next>
</block>
</next>
</block>
</next>
</block>
</next>
</block>
</next>
</block>
</next>
</block>
</next>
</block>
</next>
</block>
</next>
</block>
</next>
</block>
</next>
</block>
</statement>
</block>
</statement>
</block>
</xml>
<?xml version='1.0' encoding='UTF-8' standalone='yes' ?>
<Extra>
<OpModeMeta flavor="TELEOP" group="" autoTransition="" />
<Enabled value="true" />
</Extra>
